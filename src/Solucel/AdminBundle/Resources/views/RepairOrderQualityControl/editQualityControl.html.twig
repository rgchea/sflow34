{% extends 'SolucelAdminBundle::layout.html.twig' %}

{% block breadcrumb %}
    {{ parent() }}
    <li> <a href="{{ path('solucel_admin_repairorderqualitycontrol_index') }}">Listado de Ordenes </a> </li>
    
    {% endblock %}

{% block title %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/jquery.dataTables-cust.min.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/ColReorder.min.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/FixedColumns.min.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/ColVis.min.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/ZeroClipboard.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/media/js/TableTools.min.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/DT_bootstrap.js') }}"></script>
{% endblock %}


{% block body -%}
{{ parent() }}
<style>
	.table {
	    margin-bottom: 20px;
	    width: 40% !important;
	}	
	
	input[type="radio"], .radio-inline input[type="radio"]  {
		float:right !important;
	    margin-left: -20px !important;
	}	
</style>

<div id="spinner" class="spinner" style="display:none;"></div>


<div class="jarviswidget jarviswidget-color-darken" id="wid-id-0" data-widget-editbutton="false">
    <header>
        <h2> Control de Calidad Orden #{{entity.repairOrder.id}}</h2>
    </header>
	<div class="form-group col-md-6">
		<h3 class="text-info"><b></b>Técnico: {{objRepairFix.assignedTo.username}}</b></h3>
	</div>
	<div class="clearfix"></div>

    <!-- widget div-->
    <div>

        <!-- widget edit box -->
        <div class="jarviswidget-editbox">
            <!-- This area used as dropdown edit box -->

        </div>
        <!-- end widget edit box -->

        <!-- widget content -->
		<form id="accessForm" action="{{ path('solucel_admin_repairorderqualitycontrol_update_qa', { 'id' : entity.id}) }}" method="post">
					
        	<input type="hidden" name="type" value="tec" />
	        <div class="widget-body no-padding">
	            <div class="widget-body-toolbar">
	            </div>
	            
	            <table width="100%">
	            	<tr>
	            		{#
	            		<td width="50%">
	            			<!-- TECNICO-->
							<table id="dt_basic" width="100%" class="table table-striped table-bordered table-hover"> 
				                <thead>
									<tr>
				                    	<th style="text-align: center" colspan="4">Detalle de Técnico</th>
				                    </tr>	                	
				                    <tr>
				                    	<th width="70%" >&nbsp;</th>
						                <th width="15%">Funciona</th>
						                <th width="15%">NO Funciona</th>
										<th width="15%">No Aplica</th>
				                    </tr>
				                </thead>
				                <tbody>
				                {% for group in arrGroups %}
				                	
				                	<tr>
				                		<td style="text-align: left" colspan="4"><b>{{group.name}}</b></td>
				                	</tr>
				                	
				                	{% for subgroup in group.subgroups %}
				                		<tr>
				                			<td><label style="margin-left:3em">{{subgroup.name}}</label></td>
				                			<td>
				                				<input value="check" readonly="readonly" name="tech[{{group.id}}_{{subgroup.id}}]" type="radio" {{ arrRegisters[group.id][subgroup.id]['check'] == 'true' ? 'checked="checked"' : '' }} />
				                			</td>
				                			<td>
				                				<input value="uncheck" readonly="readonly" name="tech[{{group.id}}_{{subgroup.id}}]" type="radio" {{ arrRegisters[group.id][subgroup.id]['uncheck'] == 'true' ? 'checked="checked"' : '' }} />
				                			</td>
				                			<td>
				                				<input value="na" readonly="readonly" name="tech[{{group.id}}_{{subgroup.id}}]" type="radio" {{ arrRegisters[group.id][subgroup.id]['not_apply'] == 'true' ? 'checked="checked"' : '' }}  />
				                			</td>	                			
				                		</tr>
				                	{% endfor %}
				                {% endfor %}	
				                	                
				                
				                </tbody>
				            </table>	            			
	            		</td>	            			
	            		#}

	            		<td width="50%">
	            			<!-- CONTROL DE CALIDAD-->
							<table id="dt_basic" width="100%" class="table table-striped table-bordered table-hover"> 
				                <thead>
									<tr>
				                    	<th style="text-align: center" colspan="4">Detalle de Control de Calidad</th>
				                    </tr>	                	
				                    <tr>
				                    	<th width="70%" >&nbsp;</th>
						                <th width="15%">Funciona</th>
						                <th width="15%">NO Funciona</th>
										<th width="15%">No Aplica</th>
				                    </tr>
				                </thead>
				                <tbody>
				                
				                {% for group in arrRegisters %}
				                	
				                	<tr>
				                		<td style="text-align: left" colspan="4"><b>{{group.name}}</b></td>
				                	</tr>
				                	{% if group is iterable %}
					                	{% for subgroup in group %}
					                		{% if subgroup is iterable %}
					                							                			
						                		<tr>
						                			<td><label style="margin-left:3em">{{subgroup.name}}</label></td>
						                			<td>
						                				{% if (arrRegisters[group.id][subgroup.id]['check']) == 'true' %}
						                					{% set valor = 'check' %}
						                				{% endif %}
						                				{% if (arrRegisters[group.id][subgroup.id]['uncheck']) == 'true' %}
						                					{% set valor = 'uncheck' %}
						                				{% endif %}
						                				{% if (arrRegisters[group.id][subgroup.id]['not_apply']) == 'true' %}
						                					{% set valor = 'na' %}
						                				{% endif %}						                										                				
						                				
						                				<input   type="radio" name="qa[{{group.id}}_{{subgroup.id}}]" value="check" />
						                				<input   type="hidden" name="tech[{{group.id}}_{{subgroup.id}}]" value="{{valor}}" />
						                			</td>
						                			<td>
						                				<input  type="radio" name="qa[{{group.id}}_{{subgroup.id}}]"  value="uncheck" />
						                			</td>
						                			<td>
						                				<input  type="radio" name="qa[{{group.id}}_{{subgroup.id}}]"  value="na" />
						                			</td>	                			
						                		</tr>
					                		
					                		{% endif %}
					                	{% endfor %}
				                	
				                	{% endif %}
				                	
				                {% endfor %}	
				                	                
				                
				                </tbody>
				            </table>	            			
	            		</td>
	            	</tr>
	            </table>
	
	        </div>
	        
	                        
	        <div class="form-group col-md-6">
				<label class="required" for="techComment">Comentario de Técnico:</label><br>
				<span>{{entity.techComment}}</span>
					
	        </div>
	        
	        <div class="clearfix"></div>
	        
	        <div class="form-group col-md-6">
	        	
				<label class="required" for="qaComment">Comentario Control de Calidad</label>
				<textarea id="qaComment" class="select2-search" name="quality[qa_comment]"></textarea>
					
	        </div>	        
	        <div class="clearfix"></div>	        
			<div class="form-actions">
				<button class="btn btn-primary" onclick="$('#spinner').show();">
					<i class="fa fa-save"></i>
					Aceptar
				</button>
				
			</div>            
		</form>
        
        <!-- end widget content -->

    </div>
    <!-- end widget div -->
    
</div>    

<script language="JavaScript" type="text/javascript">
	//jQuery.ajaxSetup({async:false});
	var quality = 0;

	
	function checkQuality(){
		
	}	
	
	
	
	$( document ).ready(function() {
		
	});
		
</script>		

{% endblock %}


{% block extrascripts %}


{% endblock %}