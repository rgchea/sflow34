{% extends 'SolucelAdminBundle::layout.html.twig' %}

{% block breadcrumb %}
    {{ parent() }}
    
    {% endblock %}

{% block title %}
    Reporte de Ordenes Asignadas a Técnicos
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    
    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/pizotearkadmin/js/plugin/Buttons-1.2.2/css/buttons.dataTables.css') }}">
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/jquery.dataTables-cust.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/Buttons-1.2.2/js/dataTables.buttons.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/Buttons-1.2.2/js/buttons.print.js') }}"></script>
    
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/ColReorder.min.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/FixedColumns.min.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/ColVis.min.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/ZeroClipboard.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/media/js/TableTools.min.js') }}"></script>
    <script src="{{ asset('bundles/pizotearkadmin/js/plugin/datatables/DT_bootstrap.js') }}"></script>
    
{% endblock %}


{% block body -%}
{{ parent() }}

<div class="row">
    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">

    </div>

</div>

<div class="jarviswidget jarviswidget-color-darken" id="wid-id-0" data-widget-editbutton="false">
    <header>
        <h2> Reporte de Ordenes Asignadas a Técnicos </h2>
    </header>

    <!-- widget div-->
    <div>

            
			
		        <!-- widget edit box -->
		        <div class="jarviswidget-editbox">
		            <!-- This area used as dropdown edit box -->
		
					<br />
											
		        </div>
		        <!-- end widget edit box -->
		
		        <!-- widget content -->
		        <div class="widget-body no-padding">
		            <div class="widget-body-toolbar">
		
		            </div>
		            
			        <form id="filterForm" action="{{path('solucel_admin_repairorderreport_assigned')}}" method="POST">
			        	<input type="hidden" name="filter" value="true" />
			        	
			            <fieldset>
			            	
			            	<div class="form-group col-md-4">
			            		
				            	<label for="select_service_center">Centro de Servicio:</label>
								<select class="form-control" id="select_service_center" name="select_service_center" >
									<option value="0">----</option>	
							   		{% for center in centers %}
							   			{% set selected = service_center == center.id ? 'selected="selected"' : '' %}
							   			
								        <option {{selected}} value="{{center.id}}">{{ center.name }}</option>
								   	{% endfor %}										
			
								</select>			            		
			            	</div>

			            	<div class="form-group col-md-4">
				            	<label for="select_operator">Operador:</label>
								<select class="form-control" id="select_operator" name="select_operator" >
									<option value="0">----</option>	
							   		{% for operatorObj in operators %}
							   			{% set selected = operator == operatorObj.id ? 'selected="selected"' : '' %}
							   			
								        <option {{selected}} value="{{operatorObj.id}}">{{ operatorObj.name }}</option>
								   	{% endfor %}										
			
								</select>			            		
			            	</div>
			            	
			            	<div class="form-group col-md-4">
				            	<label for="select_brand">Marca:</label>
								<select class="form-control" id="select_brand" name="select_brand" >
									<option value="0">----</option>	
							   		{% for brandObj in brands %}
							   			{% set selected = brand == brandObj.id ? 'selected="selected"' : '' %}
							   			
								        <option {{selected}} value="{{brandObj.id}}">{{ brandObj.name }}</option>
								   	{% endfor %}										
			
								</select>			            		
			            	</div>			            							
							
							<div class="clearfix"></div>
							<br />		
							<button class="btn btn-primary" onclick="" id="assignButton">Filtrar</button>

							
						</fieldset>
					</form>
			        		            
					<br />
		            <table id="dt_basic" class="table table-striped table-bordered table-hover">
		                <thead>
		                    <tr>
		                    	<th>Centro de Servicio</th>
		                    	<th>Técnico</th>
		                    	<th>Boleta #</th>
		                    	<th>IMEI</th>
		                    	<th>Operador</th>
		                    	<th>Marca</th>
		                    	<th>Modelo</th>
		                    	<th>Cod Fab</th>
		                    	<th>Estado</th>
		                    	<th>Creada</th>
		                        <th>Acciones</th>
		                    </tr>
		                </thead>
		                <tbody>
		                
		                {% for entity in entities %}
		                
		                    <tr>
		                    	<td>{{ entity.service_center }}</td>
		                    	<td>{{ entity.username }}</td>
		                        <td>{{ entity.ticket_number }}</td>
		                        <td>{{ entity.device_imei }}</td>
		                        <td>{{ entity.operator }}</td>
		                        <td>{{ entity.brand }}</td>
		                        <td>{{ entity.model}}</td>
		                        <td>{{ entity.device_code_fab }}</td>
		                        <td>{{ entity.status}}</td>
		                        <td>	{{ entity.created_at|date("d/m/Y") }}</td>
		                        <td>
		                        	<a href="{{ path('solucel_admin_repairorder_show', {'id': entity.id }) }}">
										<div class="btn btn-sm btn-primary">
											<span class="fa fa-search"></span>
										</div>                        	
		                        	</a>                        	
		                        	
		                        	<a href="{{ path('solucel_admin_repairorderfix_edit', {'id': entity.id }) }}">
										<div class="btn btn-sm btn-primary">
											<span class="fa fa-wrench"></span>
										</div>                        	
		                        	</a>                        	
		                        	
		                        </td>
		
		                    </tr>

		                {% endfor %}
		                
		                
		                </tbody>
		            </table>
		
		
		        </div>
		        <!-- end widget content -->
	

    </div>
    <!-- end widget div -->
</div>    




<script>	
</script>

{% endblock %}


{% block extrascripts %}

	$("#created_from").datepicker();
	$("#created_to").datepicker();


    $('#dt_basic').DataTable({
        dom: 'Bfrtip',
        buttons: [
            {extend: 'print', text: 'Imprimir', message: ''},
            {extend: 'excel', text: 'Exportar Excel',message: ''}
            
        ],
	    "sPaginationType" : "bootstrap_full",
	    "aaSorting": [[ 0, "asc" ]],
	    "lengthMenu": [ [10, 25, 50, 100, -1], [10, 25, 50, 100,"Todos"] ],
	    "iDisplayLength": -1,
        "language": {
            "url": "{{ asset('bundles/pizotearkadmin/js/plugin/datatables/dataTables.spanish.lang') }}"
        },
        	    
    });


   	

	    


{% endblock %}