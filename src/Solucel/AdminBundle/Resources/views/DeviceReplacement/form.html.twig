<style>
    .input-group {
        z-index: 0;
    }
</style>

<div class="row">
	<article class="col-sm-12 col-md-12 col-lg-12 sortable-grid ui-sortable">

		<div data-widget-editbutton="false" data-widget-colorbutton="false" id="wid-id-2" class="jarviswidget jarviswidget-sortable" style="" role="widget">

			<header role="heading">
				<h2>Formulario de Repuestos</h2>

				<span id="spinner" class="jarviswidget-loader" style="display: none"><i class="fa fa-refresh fa-spin"></i></span>
			</header>

			<!-- widget div-->
			<div role="content">

				<!-- widget edit box -->
				<div class="jarviswidget-editbox">
					<!-- This area used as dropdown edit box -->

				</div>
				<!-- end widget edit box -->

				<!-- widget content -->
				<div class="widget-body">

					
                    {{ form_start(form) }}
                    {{ form_errors(form) }}

						<fieldset>

                        <div class="form-group col-md-6">
                            {{ form_label(form.replacementCode) }}
                            {{ form_errors(form.replacementCode) }}
                            {{ form_widget(form.replacementCode, { 'attr': {'class' : 'form-control' } }
                            ) }}
                        </div>
                        
                        <div class="clearfix"></div>

                        <div class="form-group col-md-6">
                            {{ form_label(form.name) }}
                            {{ form_errors(form.name) }}
                            {{ form_widget(form.name, { 'attr': {'class' : 'form-control' } }
                            ) }}
                        </div>
                        
                        <div class="form-group col-md-6">
                            {{ form_label(form.deviceReplacementType) }}
                            {{ form_errors(form.deviceReplacementType) }}
                            {{ form_widget(form.deviceReplacementType, { 'attr': {'class' : 'form-control' } }
                            ) }}
                        </div>                        
						
						<div class="clearfix"></div>
						
                        <div class="form-group col-md-6">
                            {{ form_label(form.description) }}
                            {{ form_errors(form.description) }}
                            {{ form_widget(form.description, { 'attr': {'class' : 'form-control' } }
                            ) }}
                        </div>     
                        <div class="clearfix"></div>
									
						<div class="form-group col-md-6">
                            {{ form_label(form.deviceBrand) }}
                            {{ form_errors(form.deviceBrand) }}
                            {{ form_widget(form.deviceBrand, { 'attr': {'class' : 'select2-search' } }
                            ) }}	
						</div>
						<div class="form-group col-md-6">
                            {{ form_label(form.deviceModel) }}
                            {{ form_errors(form.deviceModel) }}
                            {{ form_widget(form.deviceModel, { 'attr': {'class' : 'select2-search' } }
                            ) }}	
						</div>                                           						
                        <div class="hide">
                            {{ form_rest(form) }}
                        </div>

						</fieldset>

						<div class="form-actions">
							<a href="{{ path('solucel_admin_devicereplacement_index') }}" class="btn btn-default"> Cancelar </a>

							<button class="btn btn-primary">
								<i class="fa fa-save"></i>
								Guardar
							</button>
						</div>

					<!--</form>-->
					{{ form_end(form) }}					

				</div>
				<!-- end widget content -->

			</div>
			<!-- end widget div -->

		</div>

		<div class="clearfix"></div>

	</article>
</div>

<script type="text/javascript" language="Javascript">
	  	
	$( document ).ready(function() {
		changeModel();	
		
		$("#device_replacement_deviceBrand").change(function() {
			changeModel();	
		});
		
	});
	
	

	function changeModel(){
		
		if($("#repair_order_deviceBrand").val() != ""){
			
			$.ajax({
				type:"POST",
				dataType:"json",
				url:"{{ path('solucel_admin_repairorder_device_model') }}",
				data:"device_brand_id="+$( "#device_replacement_deviceBrand" ).val(),
				success:function(data){
					
					var items = [];
					  $.each( data, function( key, val ) {
					    items.push( "<option value='" + key + "'>" + val + "</option>" );
					  });
										
					$("#device_replacement_deviceModel").html(items);	
				}
			});	 
			
		}
		
  		
	}

</script>